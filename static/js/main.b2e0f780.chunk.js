(this.webpackJsonpMyToDoList=this.webpackJsonpMyToDoList||[]).push([[0],{101:function(t,e,a){},102:function(t,e,a){},125:function(t,e,a){"use strict";a.r(e);var n,o,c=a(0),i=a.n(c),s=a(28),r=a.n(s),d=(a(101),a(102),a(183)),l=a(175),u=a(176),j=a(178),O=a(179),b=a(180),f=a(181),p=a(182),T=a(163),h=a(24),y=a(2),m=function(){var t=Object(h.c)((function(t){return t.app.status}));return Object(y.jsx)(l.a,{sx:{flexGrow:1},children:Object(y.jsxs)(u.a,{position:"static",children:[Object(y.jsxs)(j.a,{children:[Object(y.jsx)(O.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(y.jsx)(T.a,{})}),Object(y.jsx)(b.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),Object(y.jsx)(f.a,{color:"inherit",children:"Login"})]}),"loading"===t&&Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(p.a,{}),Object(y.jsx)(p.a,{variant:"buffer"})]})]})})},v=a(14),k=a(15),x=a(82),g=a.n(x).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.1",headers:{"API-KEY":"f5a121b3-d5d2-4866-a73a-ab1418f0e4d8"}}),S=function(){return g.get("todo-lists/")},C=function(t){return g.post("todo-lists/",{title:t})},E=function(t,e){return g.put("todo-lists/".concat(t),{title:e})},I=function(t){return g.delete("todo-lists/".concat(t))},D=function(t){return g.get("todo-lists/".concat(t,"/tasks/"))},A=function(t,e){return g.delete("todo-lists/".concat(t,"/tasks/").concat(e))},L=function(t,e){return g.post("todo-lists/".concat(t,"/tasks/"),{title:e})},w=function(t,e,a){return g.put("todo-lists/".concat(t,"/tasks/").concat(e),a)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(o||(o={}));var N={status:"idle",error:null},R=function(t){return{type:"APP/SET-ERROR",payload:{error:t}}},P=function(t){return{type:"APP/SET-STATUS",payload:{status:t}}},K=[],H=a(5),M=function(t,e){t.messages.length?e(R(t.messages[0])):e(R("Some error")),e(P("failed"))},U=function(t,e){e(R(t.message?t.message:"Some error")),e(P("failed"))},F={},G=function(t,e,a){return function(n,o){var c=o().tasks[e].find((function(e){return e.id===t}));if(c){var i=Object(v.a)({title:c.title,startDate:c.startDate,priority:c.priority,description:c.description,deadline:c.deadline,status:c.status},a);w(e,t,i).then((function(o){0===o.data.resultCode?n(function(t,e,a){return{type:"UPDATE-TASK",payload:{model:e,todolistId:a,taskId:t}}}(t,a,e)):M(o.data,n)})).catch((function(t){U(t,n)}))}}},_=a(174),V=a(177),Y=a(13),z=a(168),B=a(166),J=i.a.memo((function(t){var e=t.addItem,a=t.label,n=t.disabled,o=void 0!==n&&n,i=Object(c.useState)(""),s=Object(Y.a)(i,2),r=s[0],d=s[1],l=Object(c.useState)(!1),u=Object(Y.a)(l,2),j=u[0],b=u[1],f=function(){""!==r.trim()?(e(r),d("")):b(!0)};return Object(y.jsxs)("div",{children:[Object(y.jsx)(z.a,{disabled:o,variant:"standard",error:j,size:"small",value:r,onChange:function(t){d(t.currentTarget.value)},onKeyPress:function(t){b(!1),"Enter"===t.key&&f()},label:j?"Title is required":a}),Object(y.jsx)(O.a,{color:"primary",onClick:f,disabled:o,children:Object(y.jsx)(B.a,{})})]})})),q=a(83),Q=i.a.memo((function(t){var e=t.value,a=t.onChange,n=Object(c.useState)(!1),o=Object(Y.a)(n,2),i=o[0],s=o[1],r=Object(c.useState)(e),d=Object(Y.a)(r,2),l=d[0],u=d[1];return i?Object(y.jsx)(z.a,{value:l,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),a(l)}}):Object(y.jsx)("span",{onDoubleClick:function(){s(!0),u(e)},children:e})})),W=a(167),X=a(170),Z=i.a.memo((function(t){var e=t.task,a=t.removeTask,o=t.todolistId,i=t.changeTaskStatus,s=t.changeTaskTitle,r=Object(c.useCallback)((function(){a(e.id,o)}),[e.id,o,a]),d=Object(c.useCallback)((function(t){var a=t.currentTarget.checked;i(e.id,a?n.Completed:n.New,o)}),[e.id,o,i]),l=Object(c.useCallback)((function(t){s(e.id,t,o)}),[e.id,o,s]);return Object(y.jsxs)("div",{className:e.status===n.Completed?"is-done":"",children:[Object(y.jsx)(X.a,{checked:e.status===n.Completed,color:"primary",onChange:d}),Object(y.jsx)(Q,{value:e.title,onChange:l}),Object(y.jsx)(O.a,{onClick:r,children:Object(y.jsx)(W.a,{})})]},e.id)})),$=["demo"],tt=i.a.memo((function(t){var e=t.demo,a=void 0!==e&&e,o=Object(q.a)(t,$),i=Object(h.b)();Object(c.useEffect)((function(){var t;a||i((t=o.todolist.id,function(e){e(P("loading")),D(t).then((function(a){var n=a.data.items;e(function(t,e){return{type:"SET-TASKS",payload:{tasks:t,todolistId:e}}}(n,t)),e(P("succeeded"))}))}))}),[]);var s=Object(c.useCallback)((function(t){o.addTask(t,o.todolist.id)}),[o.addTask,o.todolist.id]),r=Object(c.useCallback)((function(){o.removeTodolist(o.todolist.id)}),[o.removeTodolist,o.todolist.id]),d=Object(c.useCallback)((function(t){o.changeTodolistTitle(o.todolist.id,t)}),[o.changeTodolistTitle,o.todolist.id]),l=Object(c.useCallback)((function(t){o.changeFilter(t,o.todolist.id)}),[o.changeFilter,o.todolist.id]),u=o.tasks;return"active"===o.todolist.filter&&(u=u.filter((function(t){return t.status===n.New}))),"completed"===o.todolist.filter&&(u=u.filter((function(t){return t.status===n.Completed}))),Object(y.jsxs)("div",{children:[Object(y.jsxs)("h3",{children:[Object(y.jsx)(Q,{value:o.todolist.title,onChange:d}),Object(y.jsx)(O.a,{onClick:r,disabled:"loading"===o.todolist.entityStatus,children:Object(y.jsx)(W.a,{})})]}),Object(y.jsx)(J,{label:"Name task",addItem:s,disabled:"loading"===o.todolist.entityStatus}),Object(y.jsx)("div",{children:u.map((function(t){return Object(y.jsx)(Z,{todolistId:o.todolist.id,task:t,removeTask:o.removeTask,changeTaskStatus:o.changeTaskStatus,changeTaskTitle:o.changeTaskTitle},t.id)}))}),Object(y.jsxs)("div",{style:{paddingTop:"10px"},children:[Object(y.jsx)(f.a,{variant:"all"===o.todolist.filter?"outlined":"text",onClick:function(){return l("all")},color:"success",children:"All"}),Object(y.jsx)(f.a,{variant:"active"===o.todolist.filter?"outlined":"text",onClick:function(){return l("active")},color:"primary",children:"Active"}),Object(y.jsx)(f.a,{variant:"completed"===o.todolist.filter?"outlined":"text",onClick:function(){return l("completed")},color:"secondary",children:"Completed"})]})]})})),et=function(t){var e=t.demo,a=void 0!==e&&e;Object(c.useEffect)((function(){a||i((function(t){t(P("loading")),S().then((function(e){t({type:"SET-TODOS",payload:{todos:e.data}}),t(P("succeeded"))}))}))}),[]);var n=Object(h.c)((function(t){return t.todolists})),o=Object(h.c)((function(t){return t.tasks})),i=Object(h.b)(),s=Object(c.useCallback)((function(t,e){i(function(t,e){return function(a){a(P("loading")),A(e,t).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",payload:{taskId:t,todolistId:e}}}(t,e)),a(P("succeeded"))}))}}(t,e))}),[i]),r=Object(c.useCallback)((function(t,e){i(function(t,e){return function(a){a(P("loading")),L(t,e).then((function(t){if(0===t.data.resultCode){var e=t.data.data.item;a(function(t){return{type:"ADD-TASK",payload:{task:t}}}(e)),a(P("succeeded"))}else M(t.data,a)})).catch((function(t){U(t,a)}))}}(e,t))}),[i]),d=Object(c.useCallback)((function(t,e,a){i(G(t,a,{status:e}))}),[i]),l=Object(c.useCallback)((function(t,e,a){i(G(t,a,{title:e}))}),[i]),u=Object(c.useCallback)((function(t,e){i({type:"CHANGE-TODOLIST-FILTER",payload:{id:e,filter:t}})}),[i]),j=Object(c.useCallback)((function(t){var e;i((e=t,function(t){t(P("loading")),t({type:"CHANGE_TODOLIST_ENTITY_STATUS",payload:{id:e,status:"loading"}}),I(e).then((function(a){t(function(t){return{type:"REMOVE-TODOLIST",payload:{id:t}}}(e)),t(P("succeeded"))}))}))}),[i]),O=Object(c.useCallback)((function(t,e){i(function(t,e){return function(a){a(P("loading")),E(t,e).then((function(n){a(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",payload:{id:t,title:e}}}(t,e)),a(P("succeeded"))}))}}(t,e))}),[i]),b=Object(c.useCallback)((function(t){i(function(t){return function(e){e(P("loading")),C(t).then((function(t){e({type:"ADD-TODOLIST",payload:{todolist:t.data.data.item}}),e(P("succeeded"))}))}}(t))}),[i]);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(_.a,{container:!0,style:{padding:"20px"},children:Object(y.jsx)(J,{label:"Name todolist",addItem:b})}),Object(y.jsx)(_.a,{container:!0,spacing:3,children:n.map((function(t){return Object(y.jsx)(_.a,{item:!0,children:Object(y.jsx)(V.a,{style:{padding:"10px"},children:Object(y.jsx)(tt,{todolist:t,tasks:o[t.id],removeTask:s,changeFilter:u,addTask:r,changeTaskStatus:d,removeTodolist:j,changeTaskTitle:l,changeTodolistTitle:O,demo:a})})},t.id)}))})]})},at=a(172),nt=a(171),ot=c.forwardRef((function(t,e){return Object(y.jsx)(nt.a,Object(v.a)({elevation:6,ref:e,variant:"filled"},t))}));function ct(){var t=Object(h.c)((function(t){return t.app.error})),e=Object(h.b)(),a=function(t,a){"clickaway"!==a&&e(R(null))},n=null!==t;return Object(y.jsx)(at.a,{open:n,autoHideDuration:6e3,onClose:a,children:Object(y.jsx)(ot,{onClose:a,severity:"error",sx:{width:"100%"},children:t})})}var it=function(t){var e=t.demo,a=void 0!==e&&e;return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(ct,{}),Object(y.jsx)(m,{}),Object(y.jsx)(d.a,{fixed:!0,children:Object(y.jsx)(et,{demo:a})})]})},st=a(57),rt=a(84),dt=Object(st.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(H.a)({},e.payload.todolistId,t[e.payload.todolistId].filter((function(t){return t.id!==e.payload.taskId}))));case"ADD-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(H.a)({},e.payload.task.todoListId,[e.payload.task].concat(Object(k.a)(t[e.payload.task.todoListId]))));case"UPDATE-TASK":return Object(v.a)(Object(v.a)({},t),{},Object(H.a)({},e.payload.todolistId,t[e.payload.todolistId].map((function(t){return t.id===e.payload.taskId?Object(v.a)(Object(v.a)({},t),e.payload.model):t}))));case"ADD-TODOLIST":return Object(v.a)(Object(v.a)({},t),{},Object(H.a)({},e.payload.todolist.id,[]));case"REMOVE-TODOLIST":var a=Object(v.a)({},t);return delete a[e.payload.id],a;case"SET-TODOS":var n=Object(v.a)({},t);return e.payload.todos.forEach((function(t){return n[t.id]=[]})),n;case"SET-TASKS":return Object(v.a)(Object(v.a)({},t),{},Object(H.a)({},e.payload.todolistId,e.payload.tasks));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.payload.id}));case"ADD-TODOLIST":return[Object(v.a)(Object(v.a)({},e.payload.todolist),{},{filter:"all",entityStatus:"idle"})].concat(Object(k.a)(t));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.payload.id?Object(v.a)(Object(v.a)({},t),{},{title:e.payload.title}):t}));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.payload.id?Object(v.a)(Object(v.a)({},t),{},{filter:e.payload.filter}):t}));case"CHANGE_TODOLIST_ENTITY_STATUS":return t.map((function(t){return t.id===e.payload.id?Object(v.a)(Object(v.a)({},t),{},{entityStatus:e.payload.status}):t}));case"SET-TODOS":return e.payload.todos.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{filter:"all",entityStatus:"idle"})}));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-STATUS":return Object(v.a)(Object(v.a)({},t),{},{status:e.payload.status});case"APP/SET-ERROR":return Object(v.a)(Object(v.a)({},t),{},{error:e.payload.error});default:return t}}}),lt=Object(st.c)(dt,Object(st.a)(rt.a));window.store=lt,r.a.render(Object(y.jsx)(h.a,{store:lt,children:Object(y.jsx)(it,{})}),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.b2e0f780.chunk.js.map